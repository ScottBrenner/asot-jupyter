---
keywords: fastai
description: Celebrating 1,000 episodes of A State of Trance.
title: Analyzing the ASOT Top 1000
toc: true 
badges: true
comments: false
categories: [asot, bpm, artist, year]
image: images/annual-avg-bpm.png
nb_path: _notebooks/2021-01-26-top-1000.ipynb
layout: notebook
---

<!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2021-01-26-top-1000.ipynb
-->

<div class="container" id="notebook-container">
        
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Introduction">Introduction<a class="anchor-link" href="#Introduction"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To celebrate the 1,000th episode of A State of Trance the radioshow invited viewers to vote for their all-time favorite trance tracks, and the result list was broadcast as <a href="https://www.astateoftrance.com/episodes/asot1000/">ASOT 1000</a>.</p>
<p>In this post we'll analyze the top 1,000.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Some-Housekeeping">Some Housekeeping<a class="anchor-link" href="#Some-Housekeeping"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As with previous posts here, we'll be pulling data from Spotify and graphing the results. While there is <a href="https://open.spotify.com/playlist/5QafFMGgQKGwqgV7k3qHy6">an official "ASOT Top 1000"</a> playlist on Spotify, I'm opting to instead use the "<a href="https://open.spotify.com/playlist/5DCcjCLMlPjTwKLCcYyzIj">ASOT TOP 1000 Countdown Extended</a>" playlist <a href="https://www.reddit.com/r/trance/comments/l2ae9y/relive_the_asot_top_1000_countdown_in_your_own/">compiled by reddit user turbodevin</a>. As Devin writes,</p>
<blockquote><p>MISSING</p>
<p>531 || Sean Callery - The Longest Day (Armin van Buuren Remix)</p>
<p>REMIX NOT AVAILABLE</p>
<p>414 || Faithless - Insomnia (Andrew Rayel Remix)</p>
<p>520 || Safri Duo - Played A Live (The Bongo Song) [NWYR &amp; Willem de Roo Remix]</p>
<p>530 || Kensington - Sorry (Armin van Buuren Remix)</p>
<p>635 || Ilse de Lange - The Great Escape (Armin van Buuren Remix)</p>
<p>661 || Zedd feat. Foxes - Clarity (Andrew Rayel Remix)</p>
</blockquote>
<p>While the playlist may not be complete, I'd still consider to be the most-complete playlist available on Spotify - using extended mixes over the official playlist's radio mixes is certainly more preferrable, at least.</p>
<p>Remember, all data here is pulled directly from Spotify's API without any modification from my end<em>. See the post on <a href="https://scottbrenner.github.io/asot-jupyter/asot/bpm/2020/04/27/methodology.html">Methodology</a> for details on what data we can pull from Spotify, and how.
\</em><a href="https://developer.spotify.com/documentation/web-api/reference/#category-playlists">Spotify's API for "Get a Playlist's Items" limits us to getting 100 tracks at a time</a>. Let's make 10 API calls for 100 tracks each, incrementing <code>offset</code> each time, and save the results.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">User: https://open.spotify.com/user/113444659</span>
<span class="sd">Playlist: ASOT TOP 1000 Countdown Extended</span>
<span class="sd">Playlist link: https://open.spotify.com/playlist/5DCcjCLMlPjTwKLCcYyzIj</span>
<span class="sd">Playlist ID: 5DCcjCLMlPjTwKLCcYyzIj</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="n">top_1000_playlist</span> <span class="o">=</span> <span class="s1">&#39;5DCcjCLMlPjTwKLCcYyzIj&#39;</span>

<span class="n">top_1000_tracks</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># Get full details of the tracks and episodes of a playlis</span>
<span class="c1"># https://spotipy.readthedocs.io/en/2.16.1/#spotipy.client.Spotify.playlist_items</span>
<span class="n">top_1000_tracks</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">sp</span><span class="o">.</span><span class="n">playlist_tracks</span><span class="p">(</span><span class="n">top_1000_playlist</span><span class="p">)[</span><span class="s1">&#39;items&#39;</span><span class="p">])</span>
<span class="n">top_1000_tracks</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">sp</span><span class="o">.</span><span class="n">playlist_tracks</span><span class="p">(</span><span class="n">top_1000_playlist</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mi">100</span><span class="p">)[</span><span class="s1">&#39;items&#39;</span><span class="p">])</span>
<span class="n">top_1000_tracks</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">sp</span><span class="o">.</span><span class="n">playlist_tracks</span><span class="p">(</span><span class="n">top_1000_playlist</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mi">200</span><span class="p">)[</span><span class="s1">&#39;items&#39;</span><span class="p">])</span>
<span class="n">top_1000_tracks</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">sp</span><span class="o">.</span><span class="n">playlist_tracks</span><span class="p">(</span><span class="n">top_1000_playlist</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mi">300</span><span class="p">)[</span><span class="s1">&#39;items&#39;</span><span class="p">])</span>
<span class="n">top_1000_tracks</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">sp</span><span class="o">.</span><span class="n">playlist_tracks</span><span class="p">(</span><span class="n">top_1000_playlist</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mi">400</span><span class="p">)[</span><span class="s1">&#39;items&#39;</span><span class="p">])</span>
<span class="n">top_1000_tracks</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">sp</span><span class="o">.</span><span class="n">playlist_tracks</span><span class="p">(</span><span class="n">top_1000_playlist</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mi">500</span><span class="p">)[</span><span class="s1">&#39;items&#39;</span><span class="p">])</span>
<span class="n">top_1000_tracks</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">sp</span><span class="o">.</span><span class="n">playlist_tracks</span><span class="p">(</span><span class="n">top_1000_playlist</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mi">600</span><span class="p">)[</span><span class="s1">&#39;items&#39;</span><span class="p">])</span>
<span class="n">top_1000_tracks</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">sp</span><span class="o">.</span><span class="n">playlist_tracks</span><span class="p">(</span><span class="n">top_1000_playlist</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mi">700</span><span class="p">)[</span><span class="s1">&#39;items&#39;</span><span class="p">])</span>
<span class="n">top_1000_tracks</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">sp</span><span class="o">.</span><span class="n">playlist_tracks</span><span class="p">(</span><span class="n">top_1000_playlist</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mi">800</span><span class="p">)[</span><span class="s1">&#39;items&#39;</span><span class="p">])</span>
<span class="n">top_1000_tracks</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">sp</span><span class="o">.</span><span class="n">playlist_tracks</span><span class="p">(</span><span class="n">top_1000_playlist</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mi">900</span><span class="p">)[</span><span class="s1">&#39;items&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">top_1000_tracks</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>1000
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">top_1000_tracks</span><span class="p">[</span><span class="mi">999</span><span class="p">][</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;artists&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">],</span> <span class="s1">&#39; - &#39;</span><span class="p">,</span> <span class="n">top_1000_tracks</span><span class="p">[</span><span class="mi">999</span><span class="p">][</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;album&#39;</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Armin van Buuren  -  Shivers
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Artists">Artists<a class="anchor-link" href="#Artists"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's begin by looking at the artists who made the top 1000 - how many unique artists were featured?</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">unique_artists</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

<span class="k">for</span> <span class="n">track</span> <span class="ow">in</span> <span class="n">top_1000_tracks</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">artist</span> <span class="ow">in</span> <span class="n">track</span><span class="p">[</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;artists&#39;</span><span class="p">]:</span>
            <span class="n">unique_artists</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">artist</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>      

<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">unique_artists</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>639
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Which artists were featured the most?</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>

<span class="n">artist_counter</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>

<span class="k">for</span> <span class="n">track</span> <span class="ow">in</span> <span class="n">top_1000_tracks</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">artist</span> <span class="ow">in</span> <span class="n">track</span><span class="p">[</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;artists&#39;</span><span class="p">]:</span>
         <span class="n">artist_counter</span><span class="p">[</span><span class="n">artist</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]]</span> <span class="o">+=</span> <span class="mi">1</span>


<span class="n">top_artists</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">artist_counter</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">k_v</span><span class="p">:</span> <span class="n">k_v</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Alright, let's see the top 25 in a graph..</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">source</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">top_artists</span><span class="p">[:</span><span class="mi">25</span><span class="p">])</span>

<span class="n">bars</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">source</span><span class="p">)</span><span class="o">.</span><span class="n">mark_bar</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;1:Q&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Plays&#39;</span><span class="p">),</span>
    <span class="n">y</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;0:N&#39;</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="s1">&#39;-x&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Artist&#39;</span><span class="p">)</span>
<span class="p">)</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;ASOT Top 1000 - Most-played artists&quot;</span><span class="p">,</span>
    <span class="n">width</span><span class="o">=</span><span class="mi">600</span>
<span class="p">)</span>

<span class="n">text</span> <span class="o">=</span> <span class="n">bars</span><span class="o">.</span><span class="n">mark_text</span><span class="p">(</span>
    <span class="n">align</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span>
    <span class="n">baseline</span><span class="o">=</span><span class="s1">&#39;middle&#39;</span><span class="p">,</span>
    <span class="n">dx</span><span class="o">=</span><span class="mi">3</span>  <span class="c1"># Nudges text to right so it doesn&#39;t appear on top of the bar</span>
<span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">text</span><span class="o">=</span><span class="s1">&#39;1:Q&#39;</span>
<span class="p">)</span>

<span class="n">bars</span> <span class="o">+</span> <span class="n">text</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">

<div id="altair-viz-0b87c05da05f469a94e8ca48f361f8f6"></div>
<script type="text/javascript">
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-0b87c05da05f469a94e8ca48f361f8f6") {
      outputDiv = document.getElementById("altair-viz-0b87c05da05f469a94e8ca48f361f8f6");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.8.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function loadScript(lib) {
      return new Promise(function(resolve, reject) {
        var s = document.createElement('script');
        s.src = paths[lib];
        s.async = true;
        s.onload = () => resolve(paths[lib]);
        s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
        document.getElementsByTagName("head")[0].appendChild(s);
      });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else if (typeof vegaEmbed === "function") {
      displayChart(vegaEmbed);
    } else {
      loadScript("vega")
        .then(() => loadScript("vega-lite"))
        .then(() => loadScript("vega-embed"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "layer": [{"mark": "bar", "encoding": {"x": {"type": "quantitative", "field": "1", "title": "Plays"}, "y": {"type": "nominal", "field": "0", "sort": "-x", "title": "Artist"}}, "title": "ASOT Top 1000 - Most-played artists", "width": 600}, {"mark": {"type": "text", "align": "left", "baseline": "middle", "dx": 3}, "encoding": {"text": {"type": "quantitative", "field": "1"}, "x": {"type": "quantitative", "field": "1", "title": "Plays"}, "y": {"type": "nominal", "field": "0", "sort": "-x", "title": "Artist"}}, "title": "ASOT Top 1000 - Most-played artists", "width": 600}], "data": {"name": "data-eac1400bc2d77649e39272c23611501e"}, "$schema": "https://vega.github.io/schema/vega-lite/v4.8.1.json", "datasets": {"data-eac1400bc2d77649e39272c23611501e": [{"0": "Armin van Buuren", "1": 126}, {"0": "Above & Beyond", "1": 51}, {"0": "Aly & Fila", "1": 34}, {"0": "Ferry Corsten", "1": 25}, {"0": "Andrew Rayel", "1": 25}, {"0": "Gareth Emery", "1": 24}, {"0": "Cosmic Gate", "1": 21}, {"0": "Ti\u00ebsto", "1": 20}, {"0": "Giuseppe Ottaviani", "1": 19}, {"0": "Paul van Dyk", "1": 16}, {"0": "Solarstone", "1": 15}, {"0": "Orjan Nilsen", "1": 15}, {"0": "Alex M.O.R.P.H.", "1": 14}, {"0": "Omnia", "1": 13}, {"0": "Dash Berlin", "1": 13}, {"0": "Christina Novelli", "1": 12}, {"0": "John O'Callaghan", "1": 12}, {"0": "Emma Hewitt", "1": 12}, {"0": "Jorn Van Deynhoven", "1": 12}, {"0": "Markus Schulz", "1": 12}, {"0": "GAIA", "1": 12}, {"0": "Ruben de Ronde", "1": 11}, {"0": "W&W", "1": 11}, {"0": "HALIENE", "1": 11}, {"0": "MaRLo", "1": 11}]}}, {"mode": "vega-lite"});
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>No surprise at <em>who</em> the #1 is, but the sheer number of their tracks featured is pretty impressive - over 10% of the ASOT Top 1000 was produced by Armin van Buuren, more than twice the number of the second-most featured artist!</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Which artists were featured exactly once?</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">artist</span> <span class="ow">in</span> <span class="n">top_artists</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">artist</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">artist</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>ATN
Late Night Alumni
Lumïsade
Ron van den Beuken
Greg Downey
M.I.K.E.
Stoneface
Terminal
Adam Nickey
Salt Tank
Michael Wood
Sassot
Waio
A Force
Donata
Surpresa
Tom Colontonio
Molly
Myon &amp; Shane 54
Labworks
Mona Moua
Neptune Project
Micky Vi
Ava Mea
Rodg
Midway
Ramin Djawadi
Filterheadz
Jan Burton
Jody Wisternoff
Sian Evans
Marc Marberg
Probspot
Kyler England
Simon Lebon
Selu Vibra
Monoverse
Anton Sonin
Ernesto vs. Bastian
Sensation
Space RockerZ
Tania Zygar
Jean Marie
Matt Lange
Kerry Leva
Meighan Nealon
Sunset Bros
Mark McCabe
Maxi Jazz
Avao
Tammy
Elysian
Lemon
Einar K
Luigi Lusini
Thomas Bronzwaer
Shane
Niels Van Gogh
Alissa Feudo
Swedish House Mafia
Monogato
Eximinds
Whiteout
Andrea Mazza
Ronski Speed
NK
Full Tilt
Carl B.
Tinlicker
Cass
Slide
Bjorn Akesson
Frank T.R.A.X.
Radion6
Easton
Arisen Flame
Astrix
Sodality
Gid Sedgwick
Hazem Beltagui
Allan V.
David Gravell
3LAU
XIRA
The Space Brothers
Bagga Bownz
Ferry Corsten&#39;s Countdown
Simon O&#39;Shine &amp; Adam Navel
Humate
A &amp; Z
Leolani
Abstract Vision
Elite Electronic
Denise Rivera
The Burn
Emma Lock
Arctic Quest
K90
Ali Wilson
Lo-Fi Sugar
Emma Chatt
Fragile
Alex Lemon
Gal Abutbul
Walsh
McAuley
Audien
Holden
Art Of Trance
Synergy
Jase Thirlwall
Victoriya
Antillas
Coast 2 Coast
Discovery
Josie
Hammer
BENNETT
Nuera
Riva
Joop
Janet Devlin
Chloe
Jeremy Vancaulart
Danyka Nadeau
Louise Rademakers
A. Moor
Cate Kanell
Randy Katana
Lola Blanc
London Grammar
Parker &amp; Hanson
Claudia Cazacu
Dutch Force
CVNT5
Victoria Horn
Fragma
Inpetto
James Dymond
DRYM
Peter Martin
Anthanasia
Active Sight
Glenn Morrison
Magnus
Zirenz
Skye
7 Skies
Static Blue
Filo &amp; Peri
Carl B
P.O.S.
Dimitri Vegas &amp; Like Mike
Jessika Dawn
Aria
Perry O&#39;Neil
Dumonde
Jon O&#39;Bir
FISHER
Foxes
Ronnie Play
Gabriel Cage
Cressida
Zoo Brazil
PRAANA
Matt Fax
Tiff Lacey
Bedrock
Olivia Sebastianelli
Eco
Ultra Shock
Elles
Martin Grech
Ilse DeLange
Tricia Lee Kelshall
Li Kwan
Carlos Martz
Mauro Picotto
Monolink
ARTBAT
Karen Overton
DJ Uto
Primer
Age Of Love
Jam &amp; Spoon
Ascension
Masters &amp; Nickson
GTR
Tim Berg
Tim Bergling
Ash Pournouri
Marc Van Linden
Jan Johnston
Gemma Hayes
Artento Divini
Freefall
Beatsole
The Noble Six
Lachi
Fisherman
Richie Kayvan
Electrovoya
Chris James
Tillmann Uhrmacher
Albert
Kyau
Chakra
Lara
Members Of Mayday
Kyuss
Ohmna
Nurlaila
Aureus
Safri Duo
PollyAnna
Tilde
DSharp
Logistic
Chris Lake
VanVelzen
Everything By Electricity
Ayla
Michael Dow
Katty Heath
Afternova
The Morrighan
York
Starkillers
Austin Leeds
Ashley Tomberlin
Gavrielle
Conjure One
Paul Webster
Angelic Amanda
3rd Moon
Solid Sessions
Quench
Nicholson
Renee Stahl
Insigma
Spencer Brown
RBBTS
Anita Kelsey
Matthew Koma
VER:WEST
Moogwai
Frederick
Stephen Pickup
Albert Vorne
Vast Vision
Human Resource
Phynn
Fred Baker
Nyram
Tilt
Nation Of One
Cerf, Mitiska &amp; Jaren
Triple A
XiJaro &amp; Pitch
LightControl
Departure
Steve Dekay
Charlotte de Witte
Frainbreeze
16BL
Rollo Armstrong
Sister Bliss
AVIRA
Be No Rain
Stoneblue
Sunnery James &amp; Ryan Marciano
BullySongs
Manse
James Newman
2nd Phase
Matlock
Luke Warner
Aruna
Wiegel Meirmans Snitker
Graham Bell
Hans Zimmer
Klaus Badelt
Geoff Zanelli
Lauren Evans
Atlantis
Del Mar
Svenson &amp; Gielen
Galen Behr
Hydroid
8 Wonders
Basic Dawn
Philippe El Sisi
Omar Sherif
Mr. Probz
Nalin &amp; Kane
Bonnie McKee
Bryan Adams
Rex Mundi
Attila Syah
Adam K
Lost Tribe
L.S.G.
DJ&#39;s United
Tranquility Base
Robbie Seed
That Girl
Jacqueline Govaert
Seven Lions
Opposite the Other
M.I.D.O.R. &amp; Six4eight
Timmus
Jessica Lawrence
Ray Wilson
KhoMha
Delacey
Cat Martin
Olaf Blackwood
Sub Teal
Cindy Alma
Jean-Michel Jarre
KeyPlayer
DJ Aligator
Akesson
Lucid Blue
Johnny McDaid
Adam Ellis
Candace Sosa
Laura V
iio
Racoon
Forêt
Vega4
Headstrong
Ana Diaz
Pulser
Major League
Sasha
Wayward Daughter
Alt+F4
AVIAN GRAYS
Jordan Shaw
Ridgewalkers
EL
Kaskade
Tempo Giusto
Signum
Eyal Barkan
Kate Louise Smith
Shuba
Chris Jones
Eric Vloeimans
Marty Longstaff
Perpetuous Dreamer
Mila Josef
EKE
Eugenio Tokarev
The Doppler Effect
FUTURECODE
Josh Cumbee
PureNRG
Ayumi Hamasaki
Sonic Inc
Fire &amp; Ice
Darude
Alex Vargas
Salt Lake
Darren Tate
William Orbit
Sophie Ellis-Bextor
Yuri Kane
Sergey Nevone
Sneijder
Ira
Reflekt
delline bass
Second Sun
Binary Finary
Planet Perfecto Knights
Annabel
Arksun
Saltwater
Alphazone
Carla Werner
Lucy Saunders
Energy 52
Three &#39;N One
Luminary
Jan Vayne
Key4050
Miri Ben-Ari
Robert Miles
Trevor Guthrie
Zara
Hemstock &amp; Jennings
Moya Brennan
Feenixpawl
Veracocha
Sharon Den Adel
Motorcycle
Delerium
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Calculating">Calculating<a class="anchor-link" href="#Calculating"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's crunch some numbers.</p>
<p>What is the annual average episode BPM?</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">annual_total_bpm</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">annual_avg_bpm</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>

<span class="k">for</span> <span class="n">episode</span> <span class="ow">in</span> <span class="n">episodes</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">episode_bpm</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">tracks_counted</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">track</span> <span class="ow">in</span> <span class="n">sp</span><span class="o">.</span><span class="n">album_tracks</span><span class="p">(</span><span class="n">episode</span><span class="p">[</span><span class="s1">&#39;uri&#39;</span><span class="p">])[</span><span class="s1">&#39;items&#39;</span><span class="p">]:</span>
            <span class="k">if</span> <span class="s2">&quot;a state of trance&quot;</span> <span class="ow">in</span> <span class="n">track</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">or</span> <span class="s2">&quot;- interview&quot;</span> <span class="ow">in</span> <span class="n">track</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                <span class="k">continue</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">episode_bpm</span> <span class="o">+=</span> <span class="n">sp</span><span class="o">.</span><span class="n">audio_features</span><span class="p">(</span><span class="n">track</span><span class="p">[</span><span class="s1">&#39;uri&#39;</span><span class="p">])[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;tempo&#39;</span><span class="p">]</span>
                <span class="n">tracks_counted</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">episodes_counted</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">avg</span> <span class="o">=</span> <span class="n">episode_bpm</span><span class="o">/</span><span class="n">tracks_counted</span>
        <span class="n">annual_total_bpm</span><span class="p">[</span><span class="n">episode</span><span class="p">[</span><span class="s1">&#39;release_date&#39;</span><span class="p">][:</span><span class="mi">4</span><span class="p">]]</span> <span class="o">+=</span> <span class="n">avg</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="k">pass</span>

<span class="k">for</span> <span class="n">year</span><span class="p">,</span> <span class="n">avg</span> <span class="ow">in</span> <span class="n">annual_total_bpm</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">annual_avg_bpm</span><span class="p">[</span><span class="n">year</span><span class="p">]</span> <span class="o">=</span> <span class="n">avg</span> <span class="o">/</span> <span class="n">episodes_counter</span><span class="p">[</span><span class="n">year</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">annual_avg_bpm</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>{&#39;2001&#39;: 137.34653042328043, &#39;2002&#39;: 138.77037672527473, &#39;2003&#39;: 137.87648184593183, &#39;2004&#39;: 136.8379514048452, &#39;2005&#39;: 135.9946882254463, &#39;2006&#39;: 136.21986194104406, &#39;2007&#39;: 135.31834901771512, &#39;2008&#39;: 134.5739768988312, &#39;2009&#39;: 134.84276103847634, &#39;2010&#39;: 134.2873634011065, &#39;2011&#39;: 133.38769823050973, &#39;2012&#39;: 133.77641000308137, &#39;2013&#39;: 134.89472557606408, &#39;2014&#39;: 134.62926964078503, &#39;2015&#39;: 133.21748777702336, &#39;2016&#39;: 133.8357659060619, &#39;2017&#39;: 133.83226986060524, &#39;2018&#39;: 132.8617358100079, &#39;2019&#39;: 133.39046580493476, &#39;2020&#39;: 133.46879858547982}
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Results">Results<a class="anchor-link" href="#Results"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's see what we've got!</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">source</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">annual_avg_bpm</span><span class="o">.</span><span class="n">items</span><span class="p">()],</span> 
                   <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="s1">&#39;Average Episode BPM&#39;</span><span class="p">])</span>
<span class="n">source</span><span class="p">[</span><span class="s1">&#39;138&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">138</span>

<span class="n">base</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">source</span><span class="p">)</span><span class="o">.</span><span class="n">mark_line</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;Year&#39;</span><span class="p">),</span>
    <span class="n">y</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;Average Episode BPM&#39;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Scale</span><span class="p">(</span><span class="n">domain</span><span class="o">=</span><span class="p">(</span><span class="mi">130</span><span class="p">,</span> <span class="mi">140</span><span class="p">))),</span>
<span class="p">)</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;A State of Trance - Annual Average BPM of Episode&quot;</span><span class="p">,</span>
    <span class="n">width</span><span class="o">=</span><span class="mi">600</span>
<span class="p">)</span>

<span class="n">rule</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">source</span><span class="p">)</span><span class="o">.</span><span class="n">mark_rule</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">y</span><span class="o">=</span><span class="s1">&#39;138&#39;</span>
<span class="p">)</span>

<span class="n">base</span> <span class="o">+</span> <span class="n">rule</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">

<div id="altair-viz-f453ae05c1584c14be60e75f8b79a7e4"></div>
<script type="text/javascript">
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-f453ae05c1584c14be60e75f8b79a7e4") {
      outputDiv = document.getElementById("altair-viz-f453ae05c1584c14be60e75f8b79a7e4");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.8.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function loadScript(lib) {
      return new Promise(function(resolve, reject) {
        var s = document.createElement('script');
        s.src = paths[lib];
        s.async = true;
        s.onload = () => resolve(paths[lib]);
        s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
        document.getElementsByTagName("head")[0].appendChild(s);
      });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else if (typeof vegaEmbed === "function") {
      displayChart(vegaEmbed);
    } else {
      loadScript("vega")
        .then(() => loadScript("vega-lite"))
        .then(() => loadScript("vega-embed"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "layer": [{"mark": "line", "encoding": {"x": {"type": "nominal", "field": "Year"}, "y": {"type": "quantitative", "field": "Average Episode BPM", "scale": {"domain": [130, 140]}}}, "title": "A State of Trance - Annual Average BPM of Episode", "width": 600}, {"mark": {"type": "rule", "color": "red"}, "encoding": {"y": {"type": "quantitative", "field": "138"}}}], "data": {"name": "data-24d5fd95359d0348eac083943aa57f1d"}, "$schema": "https://vega.github.io/schema/vega-lite/v4.8.1.json", "datasets": {"data-24d5fd95359d0348eac083943aa57f1d": [{"Year": "2001", "Average Episode BPM": 137.34653042328043, "138": 138}, {"Year": "2002", "Average Episode BPM": 138.77037672527473, "138": 138}, {"Year": "2003", "Average Episode BPM": 137.87648184593183, "138": 138}, {"Year": "2004", "Average Episode BPM": 136.8379514048452, "138": 138}, {"Year": "2005", "Average Episode BPM": 135.9946882254463, "138": 138}, {"Year": "2006", "Average Episode BPM": 136.21986194104406, "138": 138}, {"Year": "2007", "Average Episode BPM": 135.31834901771512, "138": 138}, {"Year": "2008", "Average Episode BPM": 134.5739768988312, "138": 138}, {"Year": "2009", "Average Episode BPM": 134.84276103847634, "138": 138}, {"Year": "2010", "Average Episode BPM": 134.2873634011065, "138": 138}, {"Year": "2011", "Average Episode BPM": 133.38769823050973, "138": 138}, {"Year": "2012", "Average Episode BPM": 133.77641000308137, "138": 138}, {"Year": "2013", "Average Episode BPM": 134.89472557606408, "138": 138}, {"Year": "2014", "Average Episode BPM": 134.62926964078503, "138": 138}, {"Year": "2015", "Average Episode BPM": 133.21748777702336, "138": 138}, {"Year": "2016", "Average Episode BPM": 133.8357659060619, "138": 138}, {"Year": "2017", "Average Episode BPM": 133.83226986060524, "138": 138}, {"Year": "2018", "Average Episode BPM": 132.8617358100079, "138": 138}, {"Year": "2019", "Average Episode BPM": 133.39046580493476, "138": 138}, {"Year": "2020", "Average Episode BPM": 133.46879858547982, "138": 138}]}}, {"mode": "vega-lite"});
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Straightforward enough. In the coming posts we'll do something similar, looking at the most-played artists and tracks each year.</p>

</div>
</div>
</div>
</div>
 

