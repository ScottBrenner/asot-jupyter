---
keywords: fastai
description: Celebrating 1,000 episodes of A State of Trance.
title: Analyzing the ASOT Top 1000
toc: true 
badges: true
comments: false
categories: [asot, bpm, artist, year]
image: images/most-played-artists.png
nb_path: _notebooks/2021-01-26-top-1000.ipynb
layout: notebook
---

<!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2021-01-26-top-1000.ipynb
-->

<div class="container" id="notebook-container">
        
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Introduction">Introduction<a class="anchor-link" href="#Introduction"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To celebrate the 1,000th episode of A State of Trance the radioshow invited viewers to vote for their all-time favorite trance tracks, and the resulting list was broadcast as <a href="https://www.astateoftrance.com/episodes/asot1000/">ASOT 1000</a>.</p>
<p>In this post we'll analyze the top 1,000 - which artists, BPMs, and years are most-represented? And more!</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Some-Housekeeping">Some Housekeeping<a class="anchor-link" href="#Some-Housekeeping"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As with previous posts here, we'll be pulling data from Spotify and graphing the results. While there is <a href="https://open.spotify.com/playlist/5QafFMGgQKGwqgV7k3qHy6">an official "ASOT Top 1000"</a> playlist on Spotify, I'm opting to instead use the "<a href="https://open.spotify.com/playlist/5DCcjCLMlPjTwKLCcYyzIj">ASOT TOP 1000 Countdown Extended</a>" playlist <a href="https://www.reddit.com/r/trance/comments/l2ae9y/relive_the_asot_top_1000_countdown_in_your_own/">compiled by reddit user turbodevin</a>. As Devin writes,</p>
<blockquote><p>I used a filler track (4 seconds) for the missing song, to keep the song numbers corresponding to the ranking. When an extended version was not available, a shorter version is used. When a remix is not available, the regular version is used when available.
MISSING</p>
<p>531 || Sean Callery - The Longest Day (Armin van Buuren Remix)</p>
<p>REMIX NOT AVAILABLE</p>
<p>414 || Faithless - Insomnia (Andrew Rayel Remix)</p>
<p>520 || Safri Duo - Played A Live (The Bongo Song) [NWYR &amp; Willem de Roo Remix]</p>
<p>530 || Kensington - Sorry (Armin van Buuren Remix)</p>
<p>635 || Ilse de Lange - The Great Escape (Armin van Buuren Remix)</p>
<p>661 || Zedd feat. Foxes - Clarity (Andrew Rayel Remix)</p>
</blockquote>
<p>While the playlist may not be complete, I'd still consider to be the most-complete playlist available on Spotify - using extended mixes over the official playlist's radio mixes is certainly more preferrable, at least.</p>
<p>Remember, all data here is pulled directly from Spotify's API without any modification from my end. See the post on <a href="https://scottbrenner.github.io/asot-jupyter/asot/bpm/2020/04/27/methodology.html">Methodology</a> for details on what data we can pull from Spotify, and how. Notably, Spotify's <code>AudioFeaturesObject</code> lists <code>tempo</code> as "overall estimated tempo of a track in beats per minute (BPM)" - keyword being <em>estimate</em>. I've done little to account for any inconsistencies and nothing to address them!
<a href="https://developer.spotify.com/documentation/web-api/reference/#category-playlists">Spotify's API for "Get a Playlist's Items" limits us to getting 100 tracks at a time</a>. Let's make 10 API calls for 100 tracks each, incrementing <code>offset</code> each time, and save the results.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">User: https://open.spotify.com/user/113444659</span>
<span class="sd">Playlist: ASOT TOP 1000 Countdown Extended</span>
<span class="sd">Playlist link: https://open.spotify.com/playlist/5DCcjCLMlPjTwKLCcYyzIj</span>
<span class="sd">Playlist ID: 5DCcjCLMlPjTwKLCcYyzIj</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="n">top_1000_playlist</span> <span class="o">=</span> <span class="s1">&#39;5DCcjCLMlPjTwKLCcYyzIj&#39;</span>

<span class="n">top_1000_tracks</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># Get full details of the tracks and episodes of a playlis</span>
<span class="c1"># https://spotipy.readthedocs.io/en/2.16.1/#spotipy.client.Spotify.playlist_items</span>
<span class="n">top_1000_tracks</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">sp</span><span class="o">.</span><span class="n">playlist_tracks</span><span class="p">(</span><span class="n">top_1000_playlist</span><span class="p">)[</span><span class="s1">&#39;items&#39;</span><span class="p">])</span>
<span class="n">top_1000_tracks</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">sp</span><span class="o">.</span><span class="n">playlist_tracks</span><span class="p">(</span><span class="n">top_1000_playlist</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mi">100</span><span class="p">)[</span><span class="s1">&#39;items&#39;</span><span class="p">])</span>
<span class="n">top_1000_tracks</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">sp</span><span class="o">.</span><span class="n">playlist_tracks</span><span class="p">(</span><span class="n">top_1000_playlist</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mi">200</span><span class="p">)[</span><span class="s1">&#39;items&#39;</span><span class="p">])</span>
<span class="n">top_1000_tracks</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">sp</span><span class="o">.</span><span class="n">playlist_tracks</span><span class="p">(</span><span class="n">top_1000_playlist</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mi">300</span><span class="p">)[</span><span class="s1">&#39;items&#39;</span><span class="p">])</span>
<span class="n">top_1000_tracks</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">sp</span><span class="o">.</span><span class="n">playlist_tracks</span><span class="p">(</span><span class="n">top_1000_playlist</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mi">400</span><span class="p">)[</span><span class="s1">&#39;items&#39;</span><span class="p">])</span>
<span class="n">top_1000_tracks</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">sp</span><span class="o">.</span><span class="n">playlist_tracks</span><span class="p">(</span><span class="n">top_1000_playlist</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mi">500</span><span class="p">)[</span><span class="s1">&#39;items&#39;</span><span class="p">])</span>
<span class="n">top_1000_tracks</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">sp</span><span class="o">.</span><span class="n">playlist_tracks</span><span class="p">(</span><span class="n">top_1000_playlist</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mi">600</span><span class="p">)[</span><span class="s1">&#39;items&#39;</span><span class="p">])</span>
<span class="n">top_1000_tracks</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">sp</span><span class="o">.</span><span class="n">playlist_tracks</span><span class="p">(</span><span class="n">top_1000_playlist</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mi">700</span><span class="p">)[</span><span class="s1">&#39;items&#39;</span><span class="p">])</span>
<span class="n">top_1000_tracks</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">sp</span><span class="o">.</span><span class="n">playlist_tracks</span><span class="p">(</span><span class="n">top_1000_playlist</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mi">800</span><span class="p">)[</span><span class="s1">&#39;items&#39;</span><span class="p">])</span>
<span class="n">top_1000_tracks</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">sp</span><span class="o">.</span><span class="n">playlist_tracks</span><span class="p">(</span><span class="n">top_1000_playlist</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mi">900</span><span class="p">)[</span><span class="s1">&#39;items&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">top_1000_tracks</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>1000
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>What's number 1?</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">top_1000_tracks</span><span class="p">[</span><span class="mi">999</span><span class="p">][</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;artists&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">],</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">top_1000_tracks</span><span class="p">[</span><span class="mi">999</span><span class="p">][</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Armin van Buuren - Shivers
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Artists">Artists<a class="anchor-link" href="#Artists"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's begin by looking at the artists who made the top 1000 - how many unique artists were featured?</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">unique_artists</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

<span class="k">for</span> <span class="n">track</span> <span class="ow">in</span> <span class="n">top_1000_tracks</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">artist</span> <span class="ow">in</span> <span class="n">track</span><span class="p">[</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;artists&#39;</span><span class="p">]:</span>
            <span class="n">unique_artists</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">artist</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>      

<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">unique_artists</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>639
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Which artists were featured the most?</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>

<span class="n">artist_counter</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>

<span class="k">for</span> <span class="n">track</span> <span class="ow">in</span> <span class="n">top_1000_tracks</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">artist</span> <span class="ow">in</span> <span class="n">track</span><span class="p">[</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;artists&#39;</span><span class="p">]:</span>
         <span class="n">artist_counter</span><span class="p">[</span><span class="n">artist</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]]</span> <span class="o">+=</span> <span class="mi">1</span>


<span class="n">top_artists</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">artist_counter</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">k_v</span><span class="p">:</span> <span class="n">k_v</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Alright, let's see the top 25 in a graph..</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">source</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">top_artists</span><span class="p">[:</span><span class="mi">25</span><span class="p">])</span>

<span class="n">bars</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">source</span><span class="p">)</span><span class="o">.</span><span class="n">mark_bar</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;1:Q&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Plays&#39;</span><span class="p">),</span>
    <span class="n">y</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;0:N&#39;</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="s1">&#39;-x&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Artist&#39;</span><span class="p">)</span>
<span class="p">)</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;ASOT Top 1000 - Most-played artists&quot;</span><span class="p">,</span>
    <span class="n">width</span><span class="o">=</span><span class="mi">600</span>
<span class="p">)</span>

<span class="n">text</span> <span class="o">=</span> <span class="n">bars</span><span class="o">.</span><span class="n">mark_text</span><span class="p">(</span>
    <span class="n">align</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span>
    <span class="n">baseline</span><span class="o">=</span><span class="s1">&#39;middle&#39;</span><span class="p">,</span>
    <span class="n">dx</span><span class="o">=</span><span class="mi">3</span>  <span class="c1"># Nudges text to right so it doesn&#39;t appear on top of the bar</span>
<span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">text</span><span class="o">=</span><span class="s1">&#39;1:Q&#39;</span>
<span class="p">)</span>

<span class="n">bars</span> <span class="o">+</span> <span class="n">text</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">

<div id="altair-viz-ec504c7697604ad58725e5a8eafd9207"></div>
<script type="text/javascript">
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-ec504c7697604ad58725e5a8eafd9207") {
      outputDiv = document.getElementById("altair-viz-ec504c7697604ad58725e5a8eafd9207");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.8.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function loadScript(lib) {
      return new Promise(function(resolve, reject) {
        var s = document.createElement('script');
        s.src = paths[lib];
        s.async = true;
        s.onload = () => resolve(paths[lib]);
        s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
        document.getElementsByTagName("head")[0].appendChild(s);
      });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else if (typeof vegaEmbed === "function") {
      displayChart(vegaEmbed);
    } else {
      loadScript("vega")
        .then(() => loadScript("vega-lite"))
        .then(() => loadScript("vega-embed"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "layer": [{"mark": "bar", "encoding": {"x": {"type": "quantitative", "field": "1", "title": "Plays"}, "y": {"type": "nominal", "field": "0", "sort": "-x", "title": "Artist"}}, "title": "ASOT Top 1000 - Most-played artists", "width": 600}, {"mark": {"type": "text", "align": "left", "baseline": "middle", "dx": 3}, "encoding": {"text": {"type": "quantitative", "field": "1"}, "x": {"type": "quantitative", "field": "1", "title": "Plays"}, "y": {"type": "nominal", "field": "0", "sort": "-x", "title": "Artist"}}, "title": "ASOT Top 1000 - Most-played artists", "width": 600}], "data": {"name": "data-eac1400bc2d77649e39272c23611501e"}, "$schema": "https://vega.github.io/schema/vega-lite/v4.8.1.json", "datasets": {"data-eac1400bc2d77649e39272c23611501e": [{"0": "Armin van Buuren", "1": 126}, {"0": "Above & Beyond", "1": 51}, {"0": "Aly & Fila", "1": 34}, {"0": "Ferry Corsten", "1": 25}, {"0": "Andrew Rayel", "1": 25}, {"0": "Gareth Emery", "1": 24}, {"0": "Cosmic Gate", "1": 21}, {"0": "Ti\u00ebsto", "1": 20}, {"0": "Giuseppe Ottaviani", "1": 19}, {"0": "Paul van Dyk", "1": 16}, {"0": "Solarstone", "1": 15}, {"0": "Orjan Nilsen", "1": 15}, {"0": "Alex M.O.R.P.H.", "1": 14}, {"0": "Omnia", "1": 13}, {"0": "Dash Berlin", "1": 13}, {"0": "Christina Novelli", "1": 12}, {"0": "John O'Callaghan", "1": 12}, {"0": "Emma Hewitt", "1": 12}, {"0": "Jorn Van Deynhoven", "1": 12}, {"0": "Markus Schulz", "1": 12}, {"0": "GAIA", "1": 12}, {"0": "Ruben de Ronde", "1": 11}, {"0": "W&W", "1": 11}, {"0": "HALIENE", "1": 11}, {"0": "MaRLo", "1": 11}]}}, {"mode": "vega-lite"});
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>No surprise at <em>who</em> the #1 is, but the sheer number of their tracks featured is pretty impressive - over 10% of the ASOT Top 1000 was produced by Armin van Buuren, more than twice the number of the second-most featured artist!</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Which artists were featured exactly once, with what track, at what position?</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Find all artists with one play, then find that track in the top 1000</span>
<span class="k">for</span> <span class="n">artist</span> <span class="ow">in</span> <span class="n">top_artists</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">artist</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">position</span><span class="p">,</span> <span class="n">track</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">top_1000_tracks</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">track</span><span class="p">[</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;artists&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">artist</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
                <span class="nb">print</span><span class="p">(</span><span class="mi">1000</span> <span class="o">-</span> <span class="n">position</span><span class="p">,</span> <span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="n">track</span><span class="p">[</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;artists&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">],</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">track</span><span class="p">[</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>
<details class="description">
      <summary class="btn btn-sm" data-open="Hide Output" data-close="Show Output"></summary>
        <p>
<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>997 . ATN - Miss A Day - Original Mix
996 . Late Night Alumni - Empty Streets - Lumïsade Balearic Mix
993 . Ron van den Beuken - Timeless - Ron van den Beuken Remix
992 . Greg Downey - These Hands I Hold - Sean Tyas Remix
991 . M.I.K.E. - Chocolate Infusion - Original Mix
989 . Adam Nickey - Never Gone - Original Mix [Above &amp; Beyond Respray]
987 . Salt Tank - Eugina - Michael Woods Remix
981 . A Force - Crystal Dawn [ASOT 254] - A Tribute To &#39;99 Remix
969 . Myon &amp; Shane 54 - Ibiza Sunrise - Classic Dub
967 . Neptune Project - Aztec - Original Mix
964 . Ava Mea - In The End - Original Mix
963 . Rodg - High On Life - Extended Mix
962 . Midway - Monkey Forest - Original Mix Edit
961 . Ramin Djawadi - Game Of Thrones Theme - Armin van Buuren Extended Remix
960 . Filterheadz - Yimanya - Original Mix
950 . Jody Wisternoff - The Bridge - Chicane Rework
943 . Probspot - Foreplay - Original Mix
940 . Selu Vibra - Stargazing [ASOT 224] - Original Mix
928 . Ernesto vs. Bastian - Dark Side Of The Moon - Original Extended
927 . Sensation - The Anthem 2003 - Original Mix
922 . Space RockerZ - Puzzle Piece - Daniel Heatcliff&#39;s Farewell Remix
911 . Sunset Bros - I&#39;m Feeling It (In The Air) - Sunset Bros X Mark McCabe / MaRLo Remix
906 . Avao - Cosmic Order - Extended Mix
902 . Elysian - Beyond The Comfort Zone - Extended Mix
901 . Lemon - Anticipation
899 . Luigi Lusini - Who We Are
897 . Thomas Bronzwaer - Shadow World - Original Mix
896 . Shane - Too Late To Turn - Armin Van Buuren Remix
887 . Niels Van Gogh - Pulverturm (Original)
884 . Swedish House Mafia - One
883 . Monogato - Miami Vibe - Omnia Remix
879 . Eximinds - Lacrimosa - Extended Mix
855 . Full Tilt - Surrender - Sneijder vs John O&#39;Callaghan Remix
854 . Carl B. - Social Suicide [ASOT 261] - Original Mix
853 . Tinlicker - Sleepwalker - Extended Mix
851 . Cass - Perception - New Vocal Mix
850 . Bjorn Akesson - Painting Pyramids - Original Mix
848 . Frank T.R.A.X. - Nebuchan - Radion6 Extended Remix
844 . Easton - Healing Rain - Bryan Kearney Remix
843 . Arisen Flame - Explorer - Original Mix
841 . Astrix - Deep Jungle Walk
840 . Sodality - Challenger - Extended Mix
834 . Hazem Beltagui - We Are - Original Mix
830 . 3LAU - Tokyo (feat. XIRA) - Fatum Remix
828 . The Space Brothers - Shine - Jorn van Deynhoven Extended Remix
822 . Ferry Corsten&#39;s Countdown - More Than Anything (Listener&#39;s Choice) (CC489) - Stoneface &amp; Terminal Remix
821 . Simon O&#39;Shine &amp; Adam Navel - Marathon - Simon O&#39;Shine Mix
819 . Humate - Love Stimulation - Love-Club-Mix
813 . A &amp; Z - Fleeting Moments - Original Mix
810 . Abstract Vision - Conqueror - Original Mix
798 . Arctic Quest - Renaissance - Original Mix
797 . K90 - Red Snapper - Allen Watts Extended Remix
796 . Ali Wilson - Pandora - Original
790 . Fragile - Inertia - Armin Van Buuren Remix
783 . Audien - Wayfarer - Original Mix
778 . Holden - Nothing - 93 Returning Remix
777 . Art Of Trance - Madagascar - Ferry Corsten Remix
773 . Synergy - Hello Strings - Original Mix
771 . Jase Thirlwall - Dust - Extended Mix
770 . Antillas - Damaged - Main Mix
768 . Coast 2 Coast - Home - Original Mix
760 . Hammer - Language - Santiago Nino Dub Tech Mix
759 . Nuera - Green Cape Sunset - Original Mix
748 . Riva - Time Is The Healer - Armin van Buuren Extended Dub
747 . Joop - The Future - Original Mix
733 . Jeremy Vancaulart - Hurt - Extended Mix
714 . Randy Katana - In Silence - Txitxarro Mix
712 . London Grammar - Hey Now - Arty Remix
711 . Parker &amp; Hanson - Gravity - Original Mix
710 . Claudia Cazacu - Freefalling - Original Mix
709 . Dutch Force - Deadline - Original Mix
703 . Fragma - Toca Me - Inpetto 2008 Mix
702 . James Dymond - Spectrum - Extended Mix
701 . DRYM - Smile - Extended Mix
698 . Peter Martin - Perfect Wave - Original Mix
696 . Active Sight - Out Of Our Lives - Original Mix
694 . Glenn Morrison - Contact
687 . Zirenz - Edge of Space Ultimate - Whiteroom Remix
684 . 7 Skies - Central Park - Original Mix
683 . Filo &amp; Peri - Anthem - Original Radio Version
682 . Carl B - All Day - Original
678 . Dimitri Vegas &amp; Like Mike - Repeat After Me - Extended Mix
672 . Aria - Dido - Armin Van Buuren&#39;s Universal Religion Mix
670 . Perry O&#39;Neil - Wave Force - Original Mix
669 . Dumonde - Never Look Back - Full On Vocal Mix
665 . Jon O&#39;Bir - Found A Way (feat. Fisher) - Joint Operations Centre Remix
657 . Cressida - 6AM - Kyau &amp; Albert Update
655 . Zoo Brazil - You Can Have It All - George Acosta Remix
650 . PRAANA - Kaleidoscope - Extended Mix
647 . Bedrock - Heaven Scent - Original Mix
643 . Eco - A Million Sounds, A Thousand Smiles - Original Mix
641 . Ultra Shock - The Sound Of E - Jorn van Deynhoven Extended Remix
635 . Ilse DeLange - The Great Escape
621 . Mauro Picotto - Lizard - Cosmic Gate Extended Remix
612 . Monolink - Return to Oz - ARTBAT Remix
607 . Karen Overton - Your Loving Arms - Club Mix
596 . Primer - Everlast - Original Mix
587 . Age Of Love - The Age Of Love - Jam &amp; Spoon Watch Out For Stella Mix
584 . Ascension - Someone - Giuseppe Ottaviani Extended Remix
583 . Masters &amp; Nickson - Out There - Robert Nickson 2016 Extended Remix
581 . GTR - Mistral
580 . Tim Berg - Bromance - Avicii’s Arena Mix
571 . Jan Johnston - Flesh - DJ Tiesto Mix
567 . Artento Divini - A.D.D.A. - Extended Mix
566 . Freefall - Skydive
554 . Beatsole - Before I Wake - Extended Mix
553 . The Noble Six - Firewalker - Extended Mix
549 . Electrovoya - Effervesce
542 . Tillmann Uhrmacher - On the Run - Ocean to Shore Club Extended
538 . Chakra - Home - Above &amp; Beyond Mix
532 . Members Of Mayday - 10 In 01 - Paul Van Dyk Club Mix
531 . Kyuss - Yeah
526 . Ohmna - Key Of Life - MaRLo Remix
520 . Safri Duo - Played-A-Live (The Bongo Song)
511 . Chris Lake - Carry Me Away (feat. Emma Hewitt)
508 . Ayla - Ayla - Ben Nicky &amp; Luke Bond Remix
507 . Michael Dow - Ascent
505 . Afternova - Serenity - Andy Blueman Remix
499 . York - The Reachers of Civilisation
488 . Conjure One - Tears From The Moon - Tiësto In Search Of Sunrise Remix
485 . Paul Webster - Time - Sean Tyas Dub Mix
481 . 3rd Moon - Monsun - Original Mix
480 . Solid Sessions - Janeiro - Armin van Buuren Remix
478 . Quench - Dreams - Nicholson&#39;s Extended Cathedral Remix
472 . Insigma - Open Our Eyes - Original Mix
467 . VER:WEST - 5 Seconds Before Sunrise
465 . Moogwai - Viola - Armin van Buuren Remix
458 . Albert Vorne - Formentera What - Gareth Emery Remix
457 . Vast Vision - Everything - Aly &amp; Fila Remix
451 . Phynn - Lucid
440 . Fred Baker - Confirmation
438 . Tilt - The World Doesn&#39;t Know - Original Mix
435 . Cerf, Mitiska &amp; Jaren - You Never Said - Dash Berlin Remix
434 . Triple A - Winter Stayed - Armin van Buuren&#39;s On the Beach Mix
433 . XiJaro &amp; Pitch - Whispers Of Time - Extended Mix
417 . 16BL - Chant A Tune - Jeremy Olander Remix
399 . 2nd Phase - Never Come Down - Norin &amp; Rad Remix
392 . Matlock - Deep Psychosis - Daniel Kandi&#39;s Cure Mix
387 . Wiegel Meirmans Snitker - Nova Zembla - Armin van Buuren Extended Remix
386 . Graham Bell - The Sound Of Letting Go (Tribute To Yotam) - Extended Mix
385 . Hans Zimmer - He&#39;s A Pirate - Tiësto Orchestral Mix
380 . Atlantis - Fiji - ReOrder Extended Remix
374 . Svenson &amp; Gielen - Twisted - Original Mix
371 . Galen Behr - Carabella - Galen Behr vs Orjan Nilsen Extended Remix
370 . 8 Wonders - The Morning After - The Thrillseekers Remix
369 . Basic Dawn - Pure Thrust - NU NRG Remix
355 . Nalin &amp; Kane - Beachball - Original Club Mix
342 . Rex Mundi - Nothing At All - Original Mix
323 . L.S.G. - Netherworld - Oliver Prime Remix
321 . DJ&#39;s United - Remember Love - Original Mix
301 . M.I.D.O.R. &amp; Six4eight - No Man&#39;s Land
294 . KhoMha - Tierra - Extended Mix
273 . Jean-Michel Jarre - Stardust
271 . DJ Aligator - The Perfect Match - Club Mix
270 . Akesson - Perfect Blue - Original Mix
255 . iio - Rapture (Armin Van Buuren Remix Remastered) [feat. Nadia Ali]
243 . Headstrong - Tears - Aurosonic Progressive Mix
241 . Pulser - My Religion - Original Mix
236 . Major League - Wonder Where You Are?
233 . Sasha - Xpander
228 . Alt+F4 - Alt+F4 - Original Mix
222 . Ridgewalkers - Find - Andy Moor Remix
217 . Eyal Barkan - Voyage - Magikal Remake
184 . The Doppler Effect - Beauty Hides In The Deep - John O&#39;Callaghan Extended
183 . FUTURECODE - Dancing In The Rain - Extended Mix
177 . Ayumi Hamasaki - M - Above &amp; Beyond Remix
170 . Sonic Inc - The Taste Of Summer - Fire &amp; Ice Vital Remix
167 . Darude - Sandstorm
147 . Salt Lake - Rendezvous - Original Mix
120 . Darren Tate - Let The Light Shine In - 12&#39;&#39; Original Mix
113 . William Orbit - Barber&#39;s Adagio for Strings - Ferry Corsten Remix
110 . Yuri Kane - Right Back - Original Extended
104 . Sergey Nevone - Apprehension - Aly &amp; Fila Mix
80 . Reflekt - Need To Feel Loved - Thrillseekers Remix
71 . Binary Finary - 1998 - Gouryella Remix
70 . Planet Perfecto Knights - Resurection
59 . Arksun - Arisen - Original Mix
54 . Saltwater - The Legacy - Alphazone Extended Remix
44 . Energy 52 - Café Del Mar - Three &#39;n One Remix
43 . Luminary - Amsterdam - Smith &amp; Pledger Remix
37 . Key4050 - I Love You - Extended Mix
33 . Robert Miles - Children - Dream Version
21 . Veracocha - Carte Blanche - Original Mix
18 . Motorcycle - As The Rush Comes - Gabriel &amp; Dresden Sweeping Strings Mix
4 . Delerium - Silence (feat. Sarah McLachlan) - DJ Tiësto&#39;s in Search of Sunrise Remix
</pre>
</div>
</div>

</div>
</div>
</p>
    </details>
</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Note that we're only listing the artist on the track credits that's <em>only</em> featured on that track. For example, "120. Darren Tate &amp; Jono Grant – Shine (Let The Light Shine In)" is listed here but lists <em>only</em> Darren Tate as the producer because Jono Grant also appears in "562. Jono Grant vs Mike Koglin  – Circuits".</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Tracks">Tracks<a class="anchor-link" href="#Tracks"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's looks at some track-specific numbers now.</p>
<p>In which years were the tracks produced?</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">annual_total</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>

<span class="k">for</span> <span class="n">track</span> <span class="ow">in</span> <span class="n">top_1000_tracks</span><span class="p">:</span>
    <span class="n">annual_total</span><span class="p">[</span><span class="n">track</span><span class="p">[</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;album&#39;</span><span class="p">][</span><span class="s1">&#39;release_date&#39;</span><span class="p">][:</span><span class="mi">4</span><span class="p">]]</span> <span class="o">+=</span> <span class="mi">1</span>

<span class="n">top_years</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">annual_total</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">k_v</span><span class="p">:</span> <span class="n">k_v</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">top_years</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[(&#39;1992&#39;, 1), (&#39;1995&#39;, 1), (&#39;1997&#39;, 2), (&#39;1996&#39;, 5), (&#39;1998&#39;, 5), (&#39;1999&#39;, 7), (&#39;2002&#39;, 12), (&#39;2001&#39;, 14), (&#39;2000&#39;, 18), (&#39;2003&#39;, 23), (&#39;2004&#39;, 25), (&#39;2005&#39;, 32), (&#39;2006&#39;, 37), (&#39;2007&#39;, 38), (&#39;2008&#39;, 45), (&#39;2017&#39;, 49), (&#39;2015&#39;, 50), (&#39;2014&#39;, 54), (&#39;2020&#39;, 55), (&#39;2016&#39;, 55), (&#39;2010&#39;, 56), (&#39;2009&#39;, 62), (&#39;2013&#39;, 64), (&#39;2018&#39;, 64), (&#39;2011&#39;, 66), (&#39;2012&#39;, 68), (&#39;2019&#39;, 92)]
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In a graph:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">source</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">top_years</span><span class="p">)</span>

<span class="n">bars</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">source</span><span class="p">)</span><span class="o">.</span><span class="n">mark_bar</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;1:Q&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Plays&#39;</span><span class="p">),</span>
    <span class="n">y</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;0:N&#39;</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="s1">&#39;-x&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Year&#39;</span><span class="p">)</span>
<span class="p">)</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;ASOT Top 1000 - Most-represented years&quot;</span><span class="p">,</span>
    <span class="n">width</span><span class="o">=</span><span class="mi">600</span>
<span class="p">)</span>

<span class="n">text</span> <span class="o">=</span> <span class="n">bars</span><span class="o">.</span><span class="n">mark_text</span><span class="p">(</span>
    <span class="n">align</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span>
    <span class="n">baseline</span><span class="o">=</span><span class="s1">&#39;middle&#39;</span><span class="p">,</span>
    <span class="n">dx</span><span class="o">=</span><span class="mi">3</span>  <span class="c1"># Nudges text to right so it doesn&#39;t appear on top of the bar</span>
<span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">text</span><span class="o">=</span><span class="s1">&#39;1:Q&#39;</span>
<span class="p">)</span>

<span class="n">bars</span> <span class="o">+</span> <span class="n">text</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">

<div id="altair-viz-1c45dac5065c4374b2262b1d0dacda15"></div>
<script type="text/javascript">
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-1c45dac5065c4374b2262b1d0dacda15") {
      outputDiv = document.getElementById("altair-viz-1c45dac5065c4374b2262b1d0dacda15");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.8.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function loadScript(lib) {
      return new Promise(function(resolve, reject) {
        var s = document.createElement('script');
        s.src = paths[lib];
        s.async = true;
        s.onload = () => resolve(paths[lib]);
        s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
        document.getElementsByTagName("head")[0].appendChild(s);
      });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else if (typeof vegaEmbed === "function") {
      displayChart(vegaEmbed);
    } else {
      loadScript("vega")
        .then(() => loadScript("vega-lite"))
        .then(() => loadScript("vega-embed"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "layer": [{"mark": "bar", "encoding": {"x": {"type": "quantitative", "field": "1", "title": "Plays"}, "y": {"type": "nominal", "field": "0", "sort": "-x", "title": "Year"}}, "title": "ASOT Top 1000 - Most-represented years", "width": 600}, {"mark": {"type": "text", "align": "left", "baseline": "middle", "dx": 3}, "encoding": {"text": {"type": "quantitative", "field": "1"}, "x": {"type": "quantitative", "field": "1", "title": "Plays"}, "y": {"type": "nominal", "field": "0", "sort": "-x", "title": "Year"}}, "title": "ASOT Top 1000 - Most-represented years", "width": 600}], "data": {"name": "data-c4d9160895a1fd90761cbcfd32cb43eb"}, "$schema": "https://vega.github.io/schema/vega-lite/v4.8.1.json", "datasets": {"data-c4d9160895a1fd90761cbcfd32cb43eb": [{"0": "1992", "1": 1}, {"0": "1995", "1": 1}, {"0": "1997", "1": 2}, {"0": "1996", "1": 5}, {"0": "1998", "1": 5}, {"0": "1999", "1": 7}, {"0": "2002", "1": 12}, {"0": "2001", "1": 14}, {"0": "2000", "1": 18}, {"0": "2003", "1": 23}, {"0": "2004", "1": 25}, {"0": "2005", "1": 32}, {"0": "2006", "1": 37}, {"0": "2007", "1": 38}, {"0": "2008", "1": 45}, {"0": "2017", "1": 49}, {"0": "2015", "1": 50}, {"0": "2014", "1": 54}, {"0": "2020", "1": 55}, {"0": "2016", "1": 55}, {"0": "2010", "1": 56}, {"0": "2009", "1": 62}, {"0": "2013", "1": 64}, {"0": "2018", "1": 64}, {"0": "2011", "1": 66}, {"0": "2012", "1": 68}, {"0": "2019", "1": 92}]}}, {"mode": "vega-lite"});
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Might be better to see it sorted by year:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">source</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">top_years</span><span class="p">)</span>

<span class="n">bars</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">source</span><span class="p">)</span><span class="o">.</span><span class="n">mark_bar</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;1:Q&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Plays&#39;</span><span class="p">),</span>
    <span class="n">y</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;0:N&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Year&#39;</span><span class="p">)</span>
<span class="p">)</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;ASOT Top 1000 - Yearly representation&quot;</span><span class="p">,</span>
    <span class="n">width</span><span class="o">=</span><span class="mi">600</span>
<span class="p">)</span>

<span class="n">text</span> <span class="o">=</span> <span class="n">bars</span><span class="o">.</span><span class="n">mark_text</span><span class="p">(</span>
    <span class="n">align</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span>
    <span class="n">baseline</span><span class="o">=</span><span class="s1">&#39;middle&#39;</span><span class="p">,</span>
    <span class="n">dx</span><span class="o">=</span><span class="mi">3</span>  <span class="c1"># Nudges text to right so it doesn&#39;t appear on top of the bar</span>
<span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">text</span><span class="o">=</span><span class="s1">&#39;1:Q&#39;</span>
<span class="p">)</span>

<span class="n">bars</span> <span class="o">+</span> <span class="n">text</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">

<div id="altair-viz-ab68dfc9ffc34fc7b6c45b87e6759cc1"></div>
<script type="text/javascript">
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-ab68dfc9ffc34fc7b6c45b87e6759cc1") {
      outputDiv = document.getElementById("altair-viz-ab68dfc9ffc34fc7b6c45b87e6759cc1");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.8.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function loadScript(lib) {
      return new Promise(function(resolve, reject) {
        var s = document.createElement('script');
        s.src = paths[lib];
        s.async = true;
        s.onload = () => resolve(paths[lib]);
        s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
        document.getElementsByTagName("head")[0].appendChild(s);
      });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else if (typeof vegaEmbed === "function") {
      displayChart(vegaEmbed);
    } else {
      loadScript("vega")
        .then(() => loadScript("vega-lite"))
        .then(() => loadScript("vega-embed"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "layer": [{"mark": "bar", "encoding": {"x": {"type": "quantitative", "field": "1", "title": "Plays"}, "y": {"type": "nominal", "field": "0", "title": "Year"}}, "title": "ASOT Top 1000 - Yearly representation", "width": 600}, {"mark": {"type": "text", "align": "left", "baseline": "middle", "dx": 3}, "encoding": {"text": {"type": "quantitative", "field": "1"}, "x": {"type": "quantitative", "field": "1", "title": "Plays"}, "y": {"type": "nominal", "field": "0", "title": "Year"}}, "title": "ASOT Top 1000 - Yearly representation", "width": 600}], "data": {"name": "data-c4d9160895a1fd90761cbcfd32cb43eb"}, "$schema": "https://vega.github.io/schema/vega-lite/v4.8.1.json", "datasets": {"data-c4d9160895a1fd90761cbcfd32cb43eb": [{"0": "1992", "1": 1}, {"0": "1995", "1": 1}, {"0": "1997", "1": 2}, {"0": "1996", "1": 5}, {"0": "1998", "1": 5}, {"0": "1999", "1": 7}, {"0": "2002", "1": 12}, {"0": "2001", "1": 14}, {"0": "2000", "1": 18}, {"0": "2003", "1": 23}, {"0": "2004", "1": 25}, {"0": "2005", "1": 32}, {"0": "2006", "1": 37}, {"0": "2007", "1": 38}, {"0": "2008", "1": 45}, {"0": "2017", "1": 49}, {"0": "2015", "1": 50}, {"0": "2014", "1": 54}, {"0": "2020", "1": 55}, {"0": "2016", "1": 55}, {"0": "2010", "1": 56}, {"0": "2009", "1": 62}, {"0": "2013", "1": 64}, {"0": "2018", "1": 64}, {"0": "2011", "1": 66}, {"0": "2012", "1": 68}, {"0": "2019", "1": 92}]}}, {"mode": "vega-lite"});
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>What are the oldest tracks in the list? Sorted by position.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">position</span><span class="p">,</span> <span class="n">track</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">top_1000_tracks</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">track</span><span class="p">[</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;album&#39;</span><span class="p">][</span><span class="s1">&#39;release_date&#39;</span><span class="p">][:</span><span class="mi">4</span><span class="p">])</span> <span class="o">&lt;</span> <span class="mi">2000</span><span class="p">:</span>
        <span class="n">track_artist</span> <span class="o">=</span> <span class="n">track</span><span class="p">[</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;artists&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">artist</span> <span class="ow">in</span> <span class="n">track</span><span class="p">[</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;artists&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">:]:</span>
            <span class="n">track_artist</span> <span class="o">+=</span> <span class="s2">&quot; &amp; &quot;</span> <span class="o">+</span> <span class="n">artist</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
        <span class="nb">print</span><span class="p">(</span><span class="mi">1000</span> <span class="o">-</span> <span class="n">position</span><span class="p">,</span> <span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="n">track_artist</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">track</span><span class="p">[</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">],</span> <span class="s1">&#39;- released&#39;</span><span class="p">,</span> <span class="n">track</span><span class="p">[</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;album&#39;</span><span class="p">][</span><span class="s1">&#39;release_date&#39;</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>983 . Vincent de Moor - Flowtation - released 1996-01-01
887 . Niels Van Gogh - Pulverturm (Original) - released 1998-09-21
691 . Lost Witness &amp; Lange - Happiness Happening - Lange Remix - released 1999-03-22
647 . Bedrock - Heaven Scent - Original Mix - released 1999-12-01
638 . Agnelli &amp; Nelson - El Niño - released 1998-08-01
566 . Freefall - Skydive - released 1998-01-01
531 . Kyuss - Yeah - released 1992-01-01
499 . York - The Reachers of Civilisation - released 1999-10-20
414 . Faithless &amp; Rollo Armstrong &amp; Sister Bliss - Insomnia - released 1996
355 . Nalin &amp; Kane - Beachball - Original Club Mix - released 1997-01-01
233 . Sasha - Xpander - released 1999-07-05
167 . Darude - Sandstorm - released 1999-01-01
127 . Three Drives On A Vinyl - Greece 2000 - Original Mix - released 1997-06-01
125 . ATB - 9 Pm - Till I Come - released 1998-10-26
113 . William Orbit &amp; Ferry Corsten - Barber&#39;s Adagio for Strings - Ferry Corsten Remix - released 1995-01-17
99 . Armin van Buuren - Blue Fear - Original Mix - released 1996-03-10
91 . Cygnus X &amp; Rank 1 - Superstring - Rank 1 Remix - released 1996
87 . Solarstone &amp; Armin van Buuren - Seven Cities - Armin van Buuren Remix - released 1999-06-04
71 . Binary Finary &amp; Gouryella - 1998 - Gouryella Remix - released 1998
33 . Robert Miles - Children - Dream Version - released 1996-07-16
21 . Veracocha - Carte Blanche - Original Mix - released 1999-05-01
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>A lot of tracks released in 2020 made the list, what are the most recent? Here's the tracks in the months leading up to the end of the year.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">position</span><span class="p">,</span> <span class="n">track</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">top_1000_tracks</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">track</span><span class="p">[</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;album&#39;</span><span class="p">][</span><span class="s1">&#39;release_date&#39;</span><span class="p">][:</span><span class="mi">7</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;2020-09&#39;</span> <span class="ow">or</span> <span class="n">track</span><span class="p">[</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;album&#39;</span><span class="p">][</span><span class="s1">&#39;release_date&#39;</span><span class="p">][:</span><span class="mi">7</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;2020-10&#39;</span> <span class="ow">or</span> <span class="n">track</span><span class="p">[</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;album&#39;</span><span class="p">][</span><span class="s1">&#39;release_date&#39;</span><span class="p">][:</span><span class="mi">7</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;2020-11&#39;</span> <span class="ow">or</span> <span class="n">track</span><span class="p">[</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;album&#39;</span><span class="p">][</span><span class="s1">&#39;release_date&#39;</span><span class="p">][:</span><span class="mi">7</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;2020-12&#39;</span><span class="p">:</span>
        <span class="n">track_artist</span> <span class="o">=</span> <span class="n">track</span><span class="p">[</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;artists&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">artist</span> <span class="ow">in</span> <span class="n">track</span><span class="p">[</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;artists&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">:]:</span>
            <span class="n">track_artist</span> <span class="o">+=</span> <span class="s2">&quot; &amp; &quot;</span> <span class="o">+</span> <span class="n">artist</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
        <span class="nb">print</span><span class="p">(</span><span class="mi">1000</span> <span class="o">-</span> <span class="n">position</span><span class="p">,</span> <span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="n">track_artist</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">track</span><span class="p">[</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">],</span> <span class="s1">&#39;- released&#39;</span><span class="p">,</span> <span class="n">track</span><span class="p">[</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;album&#39;</span><span class="p">][</span><span class="s1">&#39;release_date&#39;</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>915 . Assaf &amp; Cassandra Grey - Lost At Sea - released 2020-12-11
893 . Cosmic Gate &amp; Andrew Bayer - The Launch - Extended Mix - released 2020-09-04
863 . ARTY &amp; NK - Who Am I - released 2020-11-27
836 . Allen Watts &amp; Gid Sedgwick - Another You - Extended Mix - released 2020-09-11
824 . Giuseppe Ottaviani &amp; Sue McLaren - Not One Goodbye - Extended Mix - released 2020-09-25
446 . Above &amp; Beyond &amp; Zoë Johnston &amp; Kyau &amp; Albert - You Got To Go - Kyau &amp; Albert Extended Mix - released 2020-10-01
205 . Aly &amp; Fila &amp; Plumb - Somebody Loves You - Extended Mix - released 2020-09-25
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In which years were the tracks produced by the top five most-played artists produced?</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">artist_avb_counter</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span> <span class="c1"># Tracks crediting Armin van Buuren</span>
<span class="n">artist_ab_counter</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span> <span class="c1"># Tracks crediting Above &amp; Beyond</span>
<span class="n">artist_af_counter</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span> <span class="c1"># Tracks crediting Aly &amp; Fila</span>
<span class="n">artist_fc_counter</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span> <span class="c1"># Tracks crediting Ferry Corsten</span>
<span class="n">artist_ar_counter</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span> <span class="c1"># Tracks crediting Andrew Rayel</span>

<span class="k">for</span> <span class="n">track</span> <span class="ow">in</span> <span class="n">top_1000_tracks</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">artist</span> <span class="ow">in</span> <span class="n">track</span><span class="p">[</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;artists&#39;</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">artist</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Armin van Buuren&quot;</span><span class="p">:</span>
            <span class="n">artist_avb_counter</span><span class="p">[</span><span class="n">track</span><span class="p">[</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;album&#39;</span><span class="p">][</span><span class="s1">&#39;release_date&#39;</span><span class="p">][:</span><span class="mi">4</span><span class="p">]]</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">artist</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Above &amp; Beyond&quot;</span><span class="p">:</span>
            <span class="n">artist_ab_counter</span><span class="p">[</span><span class="n">track</span><span class="p">[</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;album&#39;</span><span class="p">][</span><span class="s1">&#39;release_date&#39;</span><span class="p">][:</span><span class="mi">4</span><span class="p">]]</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">artist</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Aly &amp; Fila&quot;</span><span class="p">:</span>
            <span class="n">artist_af_counter</span><span class="p">[</span><span class="n">track</span><span class="p">[</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;album&#39;</span><span class="p">][</span><span class="s1">&#39;release_date&#39;</span><span class="p">][:</span><span class="mi">4</span><span class="p">]]</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">artist</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Ferry Corsten&quot;</span><span class="p">:</span>
            <span class="n">artist_fc_counter</span><span class="p">[</span><span class="n">track</span><span class="p">[</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;album&#39;</span><span class="p">][</span><span class="s1">&#39;release_date&#39;</span><span class="p">][:</span><span class="mi">4</span><span class="p">]]</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">artist</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Andrew Rayel&quot;</span><span class="p">:</span>
            <span class="n">artist_ar_counter</span><span class="p">[</span><span class="n">track</span><span class="p">[</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;album&#39;</span><span class="p">][</span><span class="s1">&#39;release_date&#39;</span><span class="p">][:</span><span class="mi">4</span><span class="p">]]</span> <span class="o">+=</span> <span class="mi">1</span>

<span class="c1"># Sort by year and print the results</span>
<span class="n">sorted_avb_years</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">artist_avb_counter</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">k_v</span><span class="p">:</span> <span class="n">k_v</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">sorted_ab_years</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">artist_ab_counter</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">k_v</span><span class="p">:</span> <span class="n">k_v</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">sorted_af_years</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">artist_af_counter</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">k_v</span><span class="p">:</span> <span class="n">k_v</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">sorted_fc_years</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">artist_fc_counter</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">k_v</span><span class="p">:</span> <span class="n">k_v</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">sorted_ar_years</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">artist_ar_counter</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">k_v</span><span class="p">:</span> <span class="n">k_v</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Armin van Buuren:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sorted_avb_years</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Above &amp; Beyond:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sorted_ab_years</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Aly &amp; Fila:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sorted_af_years</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Ferry Corsten:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sorted_fc_years</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Andrew Rayel:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sorted_ar_years</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Armin van Buuren:
[(&#39;1996&#39;, 1), (&#39;1999&#39;, 1), (&#39;2001&#39;, 1), (&#39;2002&#39;, 3), (&#39;2003&#39;, 4), (&#39;2005&#39;, 3), (&#39;2006&#39;, 5), (&#39;2007&#39;, 1), (&#39;2008&#39;, 8), (&#39;2009&#39;, 6), (&#39;2010&#39;, 13), (&#39;2011&#39;, 5), (&#39;2012&#39;, 6), (&#39;2013&#39;, 17), (&#39;2014&#39;, 3), (&#39;2015&#39;, 10), (&#39;2016&#39;, 6), (&#39;2017&#39;, 7), (&#39;2018&#39;, 7), (&#39;2019&#39;, 16), (&#39;2020&#39;, 3)]
Above &amp; Beyond:
[(&#39;2003&#39;, 2), (&#39;2004&#39;, 1), (&#39;2005&#39;, 1), (&#39;2006&#39;, 2), (&#39;2007&#39;, 4), (&#39;2008&#39;, 3), (&#39;2009&#39;, 2), (&#39;2010&#39;, 1), (&#39;2011&#39;, 2), (&#39;2012&#39;, 2), (&#39;2013&#39;, 2), (&#39;2014&#39;, 4), (&#39;2015&#39;, 2), (&#39;2016&#39;, 1), (&#39;2017&#39;, 3), (&#39;2018&#39;, 6), (&#39;2019&#39;, 7), (&#39;2020&#39;, 6)]
Aly &amp; Fila:
[(&#39;2003&#39;, 1), (&#39;2007&#39;, 1), (&#39;2008&#39;, 2), (&#39;2010&#39;, 1), (&#39;2011&#39;, 1), (&#39;2012&#39;, 3), (&#39;2013&#39;, 1), (&#39;2014&#39;, 6), (&#39;2015&#39;, 2), (&#39;2016&#39;, 3), (&#39;2017&#39;, 3), (&#39;2018&#39;, 3), (&#39;2019&#39;, 5), (&#39;2020&#39;, 2)]
Ferry Corsten:
[(&#39;1995&#39;, 1), (&#39;2002&#39;, 1), (&#39;2007&#39;, 1), (&#39;2008&#39;, 1), (&#39;2009&#39;, 4), (&#39;2011&#39;, 5), (&#39;2012&#39;, 1), (&#39;2013&#39;, 1), (&#39;2015&#39;, 1), (&#39;2016&#39;, 1), (&#39;2018&#39;, 6), (&#39;2019&#39;, 1), (&#39;2020&#39;, 1)]
Andrew Rayel:
[(&#39;2011&#39;, 1), (&#39;2012&#39;, 4), (&#39;2013&#39;, 4), (&#39;2014&#39;, 4), (&#39;2016&#39;, 1), (&#39;2017&#39;, 2), (&#39;2018&#39;, 3), (&#39;2019&#39;, 2), (&#39;2020&#39;, 4)]
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This would look nice in a <a href="https://altair-viz.github.io/gallery/stacked_bar_chart.html#stacked-bar-chart">stacked bar chart</a>, but I couldn't get the data arranged properly to create the chart.</p>
<p>What's the average BPM of tracks in the top 1,000?</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">total_bpm</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">for</span> <span class="n">track</span> <span class="ow">in</span> <span class="n">top_1000_tracks</span><span class="p">:</span>
    <span class="n">total_bpm</span> <span class="o">+=</span> <span class="n">sp</span><span class="o">.</span><span class="n">audio_features</span><span class="p">(</span><span class="n">track</span><span class="p">[</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;uri&#39;</span><span class="p">])[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;tempo&#39;</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="n">total_bpm</span><span class="o">/</span><span class="mi">1000</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>134.03799499999994
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Maybe that's not so useful. How does the track BPM vary throughout the top 1,000? With #1,000 on the left, down to #1 on the right.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bpm</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">track</span> <span class="ow">in</span> <span class="n">top_1000_tracks</span><span class="p">:</span>
    <span class="n">tempo</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">audio_features</span><span class="p">(</span><span class="n">track</span><span class="p">[</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;uri&#39;</span><span class="p">])[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;tempo&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">tempo</span> <span class="o">&lt;</span> <span class="mi">100</span> <span class="ow">or</span> <span class="n">tempo</span> <span class="o">&gt;</span> <span class="mi">150</span><span class="p">:</span> <span class="c1"># &quot;outliers&quot;, details below</span>
        <span class="n">bpm</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">138</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">bpm</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sp</span><span class="o">.</span><span class="n">audio_features</span><span class="p">(</span><span class="n">track</span><span class="p">[</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;uri&#39;</span><span class="p">])[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;tempo&#39;</span><span class="p">])</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">top_1000_tracks</span><span class="p">))</span>   

<span class="n">source</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
  <span class="s1">&#39;track&#39;</span><span class="p">:</span> <span class="n">x</span><span class="p">,</span>
  <span class="s1">&#39;bpm&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">bpm</span><span class="p">)</span>
<span class="p">})</span>

<span class="n">source</span><span class="p">[</span><span class="s1">&#39;138&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">138</span>

<span class="n">base</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">source</span><span class="p">)</span><span class="o">.</span><span class="n">mark_line</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;track&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;bpm&#39;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Scale</span><span class="p">(</span><span class="n">domain</span><span class="o">=</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">150</span><span class="p">))),</span>
<span class="p">)</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;ASOT Top 1000 - BPM of track&quot;</span>
<span class="p">)</span>

<span class="n">rule</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">source</span><span class="p">)</span><span class="o">.</span><span class="n">mark_rule</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">y</span><span class="o">=</span><span class="s1">&#39;138&#39;</span>
<span class="p">)</span>

<span class="n">base</span> <span class="o">+</span> <span class="n">rule</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>Max Retries reached
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>

<span class="ansi-red-fg">MaxRetryError</span>Traceback (most recent call last)
<span class="ansi-green-fg">/usr/lib/python3/dist-packages/requests/adapters.py</span> in <span class="ansi-cyan-fg">send</span><span class="ansi-blue-fg">(self, request, stream, timeout, verify, cert, proxies)</span>
<span class="ansi-green-intense-fg ansi-bold">    438</span>             <span class="ansi-green-fg">if</span> <span class="ansi-green-fg">not</span> chunked<span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg">--&gt; 439</span><span class="ansi-red-fg">                 resp = conn.urlopen(
</span><span class="ansi-green-intense-fg ansi-bold">    440</span>                     method<span class="ansi-blue-fg">=</span>request<span class="ansi-blue-fg">.</span>method<span class="ansi-blue-fg">,</span>

<span class="ansi-green-fg">/usr/lib/python3/dist-packages/urllib3/connectionpool.py</span> in <span class="ansi-cyan-fg">urlopen</span><span class="ansi-blue-fg">(self, method, url, body, headers, retries, redirect, assert_same_host, timeout, pool_timeout, release_conn, chunked, body_pos, **response_kw)</span>
<span class="ansi-green-intense-fg ansi-bold">    832</span>             log<span class="ansi-blue-fg">.</span>debug<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">&#34;Retry: %s&#34;</span><span class="ansi-blue-fg">,</span> url<span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg">--&gt; 833</span><span class="ansi-red-fg">             return self.urlopen(
</span><span class="ansi-green-intense-fg ansi-bold">    834</span>                 method<span class="ansi-blue-fg">,</span>

<span class="ansi-green-fg">/usr/lib/python3/dist-packages/urllib3/connectionpool.py</span> in <span class="ansi-cyan-fg">urlopen</span><span class="ansi-blue-fg">(self, method, url, body, headers, retries, redirect, assert_same_host, timeout, pool_timeout, release_conn, chunked, body_pos, **response_kw)</span>
<span class="ansi-green-intense-fg ansi-bold">    832</span>             log<span class="ansi-blue-fg">.</span>debug<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">&#34;Retry: %s&#34;</span><span class="ansi-blue-fg">,</span> url<span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg">--&gt; 833</span><span class="ansi-red-fg">             return self.urlopen(
</span><span class="ansi-green-intense-fg ansi-bold">    834</span>                 method<span class="ansi-blue-fg">,</span>

<span class="ansi-green-fg">/usr/lib/python3/dist-packages/urllib3/connectionpool.py</span> in <span class="ansi-cyan-fg">urlopen</span><span class="ansi-blue-fg">(self, method, url, body, headers, retries, redirect, assert_same_host, timeout, pool_timeout, release_conn, chunked, body_pos, **response_kw)</span>
<span class="ansi-green-intense-fg ansi-bold">    832</span>             log<span class="ansi-blue-fg">.</span>debug<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">&#34;Retry: %s&#34;</span><span class="ansi-blue-fg">,</span> url<span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg">--&gt; 833</span><span class="ansi-red-fg">             return self.urlopen(
</span><span class="ansi-green-intense-fg ansi-bold">    834</span>                 method<span class="ansi-blue-fg">,</span>

<span class="ansi-green-fg">/usr/lib/python3/dist-packages/urllib3/connectionpool.py</span> in <span class="ansi-cyan-fg">urlopen</span><span class="ansi-blue-fg">(self, method, url, body, headers, retries, redirect, assert_same_host, timeout, pool_timeout, release_conn, chunked, body_pos, **response_kw)</span>
<span class="ansi-green-intense-fg ansi-bold">    818</span>             <span class="ansi-green-fg">try</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg">--&gt; 819</span><span class="ansi-red-fg">                 </span>retries <span class="ansi-blue-fg">=</span> retries<span class="ansi-blue-fg">.</span>increment<span class="ansi-blue-fg">(</span>method<span class="ansi-blue-fg">,</span> url<span class="ansi-blue-fg">,</span> response<span class="ansi-blue-fg">=</span>response<span class="ansi-blue-fg">,</span> _pool<span class="ansi-blue-fg">=</span>self<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    820</span>             <span class="ansi-green-fg">except</span> MaxRetryError<span class="ansi-blue-fg">:</span>

<span class="ansi-green-fg">/usr/lib/python3/dist-packages/urllib3/util/retry.py</span> in <span class="ansi-cyan-fg">increment</span><span class="ansi-blue-fg">(self, method, url, response, error, _pool, _stacktrace)</span>
<span class="ansi-green-intense-fg ansi-bold">    435</span>         <span class="ansi-green-fg">if</span> new_retry<span class="ansi-blue-fg">.</span>is_exhausted<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg">--&gt; 436</span><span class="ansi-red-fg">             </span><span class="ansi-green-fg">raise</span> MaxRetryError<span class="ansi-blue-fg">(</span>_pool<span class="ansi-blue-fg">,</span> url<span class="ansi-blue-fg">,</span> error <span class="ansi-green-fg">or</span> ResponseError<span class="ansi-blue-fg">(</span>cause<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    437</span> 

<span class="ansi-red-fg">MaxRetryError</span>: HTTPSConnectionPool(host=&#39;api.spotify.com&#39;, port=443): Max retries exceeded with url: /v1/audio-features/?ids=0R2BQmqtNBaajKeO9qU6sB (Caused by ResponseError(&#39;too many 503 error responses&#39;))

During handling of the above exception, another exception occurred:

<span class="ansi-red-fg">RetryError</span>Traceback (most recent call last)
<span class="ansi-green-fg">/usr/local/lib/python3.8/dist-packages/spotipy/client.py</span> in <span class="ansi-cyan-fg">_internal_call</span><span class="ansi-blue-fg">(self, method, url, payload, params)</span>
<span class="ansi-green-intense-fg ansi-bold">    239</span>         <span class="ansi-green-fg">try</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg">--&gt; 240</span><span class="ansi-red-fg">             response = self._session.request(
</span><span class="ansi-green-intense-fg ansi-bold">    241</span>                 method<span class="ansi-blue-fg">,</span> url<span class="ansi-blue-fg">,</span> headers<span class="ansi-blue-fg">=</span>headers<span class="ansi-blue-fg">,</span> proxies<span class="ansi-blue-fg">=</span>self<span class="ansi-blue-fg">.</span>proxies<span class="ansi-blue-fg">,</span>

<span class="ansi-green-fg">/usr/lib/python3/dist-packages/requests/sessions.py</span> in <span class="ansi-cyan-fg">request</span><span class="ansi-blue-fg">(self, method, url, params, data, headers, cookies, files, auth, timeout, allow_redirects, proxies, hooks, stream, verify, cert, json)</span>
<span class="ansi-green-intense-fg ansi-bold">    532</span>         send_kwargs<span class="ansi-blue-fg">.</span>update<span class="ansi-blue-fg">(</span>settings<span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg">--&gt; 533</span><span class="ansi-red-fg">         </span>resp <span class="ansi-blue-fg">=</span> self<span class="ansi-blue-fg">.</span>send<span class="ansi-blue-fg">(</span>prep<span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">**</span>send_kwargs<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    534</span> 

<span class="ansi-green-fg">/usr/lib/python3/dist-packages/requests/sessions.py</span> in <span class="ansi-cyan-fg">send</span><span class="ansi-blue-fg">(self, request, **kwargs)</span>
<span class="ansi-green-intense-fg ansi-bold">    645</span>         <span class="ansi-red-fg"># Send the request</span>
<span class="ansi-green-fg">--&gt; 646</span><span class="ansi-red-fg">         </span>r <span class="ansi-blue-fg">=</span> adapter<span class="ansi-blue-fg">.</span>send<span class="ansi-blue-fg">(</span>request<span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">**</span>kwargs<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    647</span> 

<span class="ansi-green-fg">/usr/lib/python3/dist-packages/requests/adapters.py</span> in <span class="ansi-cyan-fg">send</span><span class="ansi-blue-fg">(self, request, stream, timeout, verify, cert, proxies)</span>
<span class="ansi-green-intense-fg ansi-bold">    506</span>             <span class="ansi-green-fg">if</span> isinstance<span class="ansi-blue-fg">(</span>e<span class="ansi-blue-fg">.</span>reason<span class="ansi-blue-fg">,</span> ResponseError<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg">--&gt; 507</span><span class="ansi-red-fg">                 </span><span class="ansi-green-fg">raise</span> RetryError<span class="ansi-blue-fg">(</span>e<span class="ansi-blue-fg">,</span> request<span class="ansi-blue-fg">=</span>request<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    508</span> 

<span class="ansi-red-fg">RetryError</span>: HTTPSConnectionPool(host=&#39;api.spotify.com&#39;, port=443): Max retries exceeded with url: /v1/audio-features/?ids=0R2BQmqtNBaajKeO9qU6sB (Caused by ResponseError(&#39;too many 503 error responses&#39;))

During handling of the above exception, another exception occurred:

<span class="ansi-red-fg">SpotifyException</span>Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-20-c633e8c3c3b9&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-intense-fg ansi-bold">      1</span> bpm <span class="ansi-blue-fg">=</span> <span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">]</span>
<span class="ansi-green-intense-fg ansi-bold">      2</span> <span class="ansi-green-fg">for</span> track <span class="ansi-green-fg">in</span> top_1000_tracks<span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg">----&gt; 3</span><span class="ansi-red-fg">     </span>tempo <span class="ansi-blue-fg">=</span> sp<span class="ansi-blue-fg">.</span>audio_features<span class="ansi-blue-fg">(</span>track<span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">&#39;track&#39;</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">&#39;uri&#39;</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">[</span><span class="ansi-cyan-fg">0</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">&#39;tempo&#39;</span><span class="ansi-blue-fg">]</span>
<span class="ansi-green-intense-fg ansi-bold">      4</span>     <span class="ansi-green-fg">if</span> tempo <span class="ansi-blue-fg">&lt;</span> <span class="ansi-cyan-fg">100</span> <span class="ansi-green-fg">or</span> tempo <span class="ansi-blue-fg">&gt;</span> <span class="ansi-cyan-fg">150</span><span class="ansi-blue-fg">:</span> <span class="ansi-red-fg"># &#34;outliers&#34;, details below</span>
<span class="ansi-green-intense-fg ansi-bold">      5</span>         bpm<span class="ansi-blue-fg">.</span>append<span class="ansi-blue-fg">(</span><span class="ansi-cyan-fg">138</span><span class="ansi-blue-fg">)</span>

<span class="ansi-green-fg">/usr/local/lib/python3.8/dist-packages/spotipy/client.py</span> in <span class="ansi-cyan-fg">audio_features</span><span class="ansi-blue-fg">(self, tracks)</span>
<span class="ansi-green-intense-fg ansi-bold">   1617</span>         <span class="ansi-green-fg">if</span> isinstance<span class="ansi-blue-fg">(</span>tracks<span class="ansi-blue-fg">,</span> str<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">   1618</span>             trackid <span class="ansi-blue-fg">=</span> self<span class="ansi-blue-fg">.</span>_get_id<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">&#34;track&#34;</span><span class="ansi-blue-fg">,</span> tracks<span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg">-&gt; 1619</span><span class="ansi-red-fg">             </span>results <span class="ansi-blue-fg">=</span> self<span class="ansi-blue-fg">.</span>_get<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">&#34;audio-features/?ids=&#34;</span> <span class="ansi-blue-fg">+</span> trackid<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">   1620</span>         <span class="ansi-green-fg">else</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">   1621</span>             tlist <span class="ansi-blue-fg">=</span> <span class="ansi-blue-fg">[</span>self<span class="ansi-blue-fg">.</span>_get_id<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">&#34;track&#34;</span><span class="ansi-blue-fg">,</span> t<span class="ansi-blue-fg">)</span> <span class="ansi-green-fg">for</span> t <span class="ansi-green-fg">in</span> tracks<span class="ansi-blue-fg">]</span>

<span class="ansi-green-fg">/usr/local/lib/python3.8/dist-packages/spotipy/client.py</span> in <span class="ansi-cyan-fg">_get</span><span class="ansi-blue-fg">(self, url, args, payload, **kwargs)</span>
<span class="ansi-green-intense-fg ansi-bold">    289</span>             kwargs<span class="ansi-blue-fg">.</span>update<span class="ansi-blue-fg">(</span>args<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    290</span> 
<span class="ansi-green-fg">--&gt; 291</span><span class="ansi-red-fg">         </span><span class="ansi-green-fg">return</span> self<span class="ansi-blue-fg">.</span>_internal_call<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">&#34;GET&#34;</span><span class="ansi-blue-fg">,</span> url<span class="ansi-blue-fg">,</span> payload<span class="ansi-blue-fg">,</span> kwargs<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    292</span> 
<span class="ansi-green-intense-fg ansi-bold">    293</span>     <span class="ansi-green-fg">def</span> _post<span class="ansi-blue-fg">(</span>self<span class="ansi-blue-fg">,</span> url<span class="ansi-blue-fg">,</span> args<span class="ansi-blue-fg">=</span><span class="ansi-green-fg">None</span><span class="ansi-blue-fg">,</span> payload<span class="ansi-blue-fg">=</span><span class="ansi-green-fg">None</span><span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">**</span>kwargs<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">:</span>

<span class="ansi-green-fg">/usr/local/lib/python3.8/dist-packages/spotipy/client.py</span> in <span class="ansi-cyan-fg">_internal_call</span><span class="ansi-blue-fg">(self, method, url, payload, params)</span>
<span class="ansi-green-intense-fg ansi-bold">    273</span>             <span class="ansi-green-fg">except</span> <span class="ansi-blue-fg">(</span>IndexError<span class="ansi-blue-fg">,</span> AttributeError<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">    274</span>                 reason <span class="ansi-blue-fg">=</span> <span class="ansi-green-fg">None</span>
<span class="ansi-green-fg">--&gt; 275</span><span class="ansi-red-fg">             raise SpotifyException(
</span><span class="ansi-green-intense-fg ansi-bold">    276</span>                 <span class="ansi-cyan-fg">429</span><span class="ansi-blue-fg">,</span>
<span class="ansi-green-intense-fg ansi-bold">    277</span>                 <span class="ansi-blue-fg">-</span><span class="ansi-cyan-fg">1</span><span class="ansi-blue-fg">,</span>

<span class="ansi-red-fg">SpotifyException</span>: http status: 429, code:-1 - /v1/audio-features/?ids=0R2BQmqtNBaajKeO9qU6sB:
 Max Retries, reason: too many 503 error responses</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Not the best way to visualize it, how about a semi-interactive scatter plot? Mouseover for track position and BPM, zoom with the mousewheel. I couldn't figure out how to get track titles and artists in the tooltips.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">detail</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
    <span class="o">.</span><span class="n">mark_point</span><span class="p">()</span>
    <span class="o">.</span><span class="n">encode</span><span class="p">(</span>
        <span class="n">x</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span>
            <span class="s2">&quot;track:T&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">y</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span>
            <span class="s2">&quot;bpm:Q&quot;</span><span class="p">,</span>
            <span class="n">scale</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Scale</span><span class="p">(</span><span class="n">domain</span><span class="o">=</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">150</span><span class="p">)),</span>
        <span class="p">),</span>
        <span class="n">color</span><span class="o">=</span><span class="s2">&quot;bpm&quot;</span><span class="p">,</span>
        <span class="n">tooltip</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;bpm&#39;</span><span class="p">,</span> <span class="s1">&#39;track&#39;</span><span class="p">]</span>
    <span class="p">)</span>
    <span class="o">.</span><span class="n">properties</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;BPM of ASOT Top 1000 -- detail view&quot;</span><span class="p">)</span>
<span class="p">)</span><span class="o">.</span><span class="n">interactive</span><span class="p">()</span>

<span class="n">detail</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>There's a few "outliers" that kind of throw off the graph - let's look at the tracks in the top 1,000 with the lowest and highest BPMs.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">position</span><span class="p">,</span> <span class="n">track</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">top_1000_tracks</span><span class="p">):</span>
    <span class="n">tempo</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">audio_features</span><span class="p">(</span><span class="n">track</span><span class="p">[</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;uri&#39;</span><span class="p">])[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;tempo&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">tempo</span> <span class="o">&lt;</span> <span class="mi">125</span> <span class="ow">or</span> <span class="n">tempo</span> <span class="o">&gt;</span> <span class="mi">141</span><span class="p">:</span> <span class="c1"># &quot;outliers&quot;</span>
        <span class="n">track_artist</span> <span class="o">=</span> <span class="n">track</span><span class="p">[</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;artists&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">artist</span> <span class="ow">in</span> <span class="n">track</span><span class="p">[</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;artists&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">:]:</span>
            <span class="n">track_artist</span> <span class="o">+=</span> <span class="s2">&quot; &amp; &quot;</span> <span class="o">+</span> <span class="n">artist</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
        <span class="nb">print</span><span class="p">(</span><span class="mi">1000</span> <span class="o">-</span> <span class="n">position</span><span class="p">,</span> <span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="n">track_artist</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">track</span><span class="p">[</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">],</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">tempo</span><span class="p">,</span> <span class="s1">&#39;BPM&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>But this is not entirely right, right? <a href="https://www.beatport.com/track/popcorn-original-mix/10531322">Beatport lists Popcorn as 138 BPM</a>. Again, I've done nothing to address any inconsistencies.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Now-you!">Now you!<a class="anchor-link" href="#Now-you!"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>I've hardly covered the most basic analyses, so I'll leave you with a CSV file of tracks and <a href="https://developer.spotify.com/documentation/web-api/reference/#object-audiofeaturesobject">"audio features" from Spotify</a> so you can run the numbers yourself.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">csv</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;../data/top-1000.csv&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">csvfile</span><span class="p">:</span>
    <span class="n">topreader</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">writer</span><span class="p">(</span><span class="n">csvfile</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">,</span>
                            <span class="n">quotechar</span><span class="o">=</span><span class="s1">&#39;|&#39;</span><span class="p">,</span> <span class="n">quoting</span><span class="o">=</span><span class="n">csv</span><span class="o">.</span><span class="n">QUOTE_MINIMAL</span><span class="p">)</span>
    <span class="n">topreader</span><span class="o">.</span><span class="n">writerow</span><span class="p">([</span><span class="s1">&#39;position&#39;</span><span class="p">,</span> <span class="s1">&#39;artist&#39;</span><span class="p">,</span> <span class="s1">&#39;track&#39;</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="s1">&#39;danceability&#39;</span><span class="p">,</span> <span class="s1">&#39;energy&#39;</span><span class="p">,</span> <span class="s1">&#39;key&#39;</span><span class="p">,</span> <span class="s1">&#39;loudness&#39;</span><span class="p">,</span> <span class="s1">&#39;speechiness&#39;</span><span class="p">,</span> <span class="s1">&#39;acousticness&#39;</span><span class="p">,</span> <span class="s1">&#39;instrumentalness&#39;</span><span class="p">,</span> <span class="s1">&#39;liveness&#39;</span><span class="p">,</span> <span class="s1">&#39;valence&#39;</span><span class="p">,</span> <span class="s1">&#39;tempo&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;uri&#39;</span><span class="p">,</span> <span class="s1">&#39;duration_ms&#39;</span><span class="p">,</span> <span class="s1">&#39;time_signature&#39;</span><span class="p">])</span>
    <span class="k">for</span> <span class="n">position</span><span class="p">,</span> <span class="n">track</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">top_1000_tracks</span><span class="p">):</span>
        <span class="c1"># Get track artists</span>
        <span class="n">track_artist</span> <span class="o">=</span> <span class="n">track</span><span class="p">[</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;artists&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">artist</span> <span class="ow">in</span> <span class="n">track</span><span class="p">[</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;artists&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">:]:</span>
            <span class="n">track_artist</span> <span class="o">+=</span> <span class="s2">&quot; &amp; &quot;</span> <span class="o">+</span> <span class="n">artist</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
        <span class="n">audio_features</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">audio_features</span><span class="p">(</span><span class="n">track</span><span class="p">[</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;uri&#39;</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">topreader</span><span class="o">.</span><span class="n">writerow</span><span class="p">([</span><span class="mi">1000</span> <span class="o">-</span> <span class="n">position</span><span class="p">,</span> <span class="n">track_artist</span><span class="p">,</span> <span class="n">track</span><span class="p">[</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">],</span> <span class="n">track</span><span class="p">[</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;album&#39;</span><span class="p">][</span><span class="s1">&#39;release_date&#39;</span><span class="p">][:</span><span class="mi">4</span><span class="p">],</span> <span class="n">audio_features</span><span class="p">[</span><span class="s1">&#39;danceability&#39;</span><span class="p">],</span> <span class="n">audio_features</span><span class="p">[</span><span class="s1">&#39;energy&#39;</span><span class="p">],</span> <span class="n">audio_features</span><span class="p">[</span><span class="s1">&#39;key&#39;</span><span class="p">],</span> <span class="n">audio_features</span><span class="p">[</span><span class="s1">&#39;loudness&#39;</span><span class="p">],</span> <span class="n">audio_features</span><span class="p">[</span><span class="s1">&#39;speechiness&#39;</span><span class="p">],</span> <span class="n">audio_features</span><span class="p">[</span><span class="s1">&#39;acousticness&#39;</span><span class="p">],</span> <span class="n">audio_features</span><span class="p">[</span><span class="s1">&#39;instrumentalness&#39;</span><span class="p">],</span> <span class="n">audio_features</span><span class="p">[</span><span class="s1">&#39;liveness&#39;</span><span class="p">],</span> <span class="n">audio_features</span><span class="p">[</span><span class="s1">&#39;valence&#39;</span><span class="p">],</span> <span class="n">audio_features</span><span class="p">[</span><span class="s1">&#39;tempo&#39;</span><span class="p">],</span> <span class="n">audio_features</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">],</span> <span class="n">audio_features</span><span class="p">[</span><span class="s1">&#39;uri&#39;</span><span class="p">],</span> <span class="n">audio_features</span><span class="p">[</span><span class="s1">&#39;duration_ms&#39;</span><span class="p">],</span> <span class="n">audio_features</span><span class="p">[</span><span class="s1">&#39;time_signature&#39;</span><span class="p">]])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The resulting file can be found in <a href="https://github.com/ScottBrenner/asot-jupyter/blob/1000/data/top-1000.csv">https://github.com/ScottBrenner/asot-jupyter/blob/1000/data/top-1000.csv</a> - let me know what you make with it!</p>

</div>
</div>
</div>
</div>
 

